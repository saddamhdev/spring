ржарж┐ржХ ржЖржЫрзЗ ЁЯСН
ржирж┐ржЪрзЗ ржЖржорж┐ **Lazy Bean ржХрзАржнрж╛ржмрзЗ ржмрж╛ржирж╛ржмрзЛ** ржирж┐рзЯрзЗ **ржкрзВрж░рзНржг (full) documentation** ржжрж┐рж▓рж╛ржо тАФ
ржПржЯрж╛ **ржирзЛржЯ + ржЗржирзНржЯрж╛рж░ржнрж┐ржЙ + ржкрзНрж░рзЛржбрж╛ржХрж╢ржи**тАФрж╕ржм ржЬрж╛рзЯржЧрж╛рзЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗред

---

# ЁЯРв Spring Lazy Bean тАФ Full Documentation (With BIG Real Example)

![Image](https://www.logicbig.com/tutorials/spring-framework/spring-core/lazy-loading/images/lazy.png)

![Image](https://howtodoinjava.com/wp-content/uploads/Spring-bean-life-cycle.png)

![Image](https://www.dineshonjava.com/wp-content/uploads/2017/04/Untitled-1.jpg)

---

## 1я╕ПтГг Lazy Bean ржХрзА? (Definition)

### ЁЯза ржПржХ рж▓рж╛ржЗржирзЗ

> **Lazy Bean рж╣рж▓рзЛ ржПржоржи Spring Bean ржпрж╛ application startup-ржП рждрзИрж░рж┐ ржирж╛ рж╣рзЯрзЗ, ржкрзНрж░ржержоржмрж╛рж░ ржмрзНржпржмрж╣рж╛рж░рзЗрж░ рж╕ржорзЯ рждрзИрж░рж┐ рж╣рзЯред**

### Default ржЖржЪрж░ржг

* Spring Bean тЖТ **EAGER** (startup-ржП рждрзИрж░рж┐)
* Lazy Bean тЖТ **ON-DEMAND** (ржкрзНрж░рзЯрзЛржЬржи рж╣рж▓рзЗ)

---

## 2я╕ПтГг Lazy Bean ржХрзЗржи ржжрж░ржХрж╛рж░?

### рж╕ржорж╕рзНржпрж╛ (Eager Bean)

* App startup ржзрзАрж░
* Heavy initialization waste
* Rarely-used feature upfront load

### рж╕ржорж╛ржзрж╛ржи (Lazy Bean)

* Fast startup
* ржХржо memory usage
* Optional feature on-demand

---

## 3я╕ПтГг Lazy Bean ржмрж╛ржирж╛ржирзЛрж░ ржЬрж╛рзЯржЧрж╛ржЧрзБрж▓рзЛ (All Ways)

| ржЬрж╛рзЯржЧрж╛                  | Scope                |
| ---------------------- | -------------------- |
| Class level            | ржкрзБрж░рзЛ Bean            |
| Constructor parameter  | Specific dependency  |
| `@Bean` method         | Factory-created Bean |
| `@Configuration` class | Config group         |
| Global property        | Whole application    |

---

# 4я╕ПтГг BIG REAL-WORLD EXAMPLE

## ЁЯУК Order + Analytics System (Production-like)

### ЁЯзй Business Scenario

* `OrderService` тЖТ рж╕ржм рж╕ржорзЯ рж▓рж╛ржЧрзЗ
* `AnalyticsService` тЖТ Heavy + rarely used
* Analytics startup-ржП load рж╣рж▓рзЗ app slow

ЁЯОп **Goal**:
Order system fast
Analytics only when admin calls

---

## ЁЯз▒ Step 1: Normal Eager Service

```java
@Service
public class OrderService {

    public OrderService() {
        System.out.println("OrderService created");
    }

    public void placeOrder() {
        System.out.println("Order placed");
    }
}
```

ЁЯСЙ App start-ржП рждрзИрж░рж┐ рж╣ржмрзЗ

---

## ЁЯРв Step 2: Heavy Service тЖТ Lazy Bean (Class-level)

```java
@Lazy
@Service
public class AnalyticsService {

    public AnalyticsService() {
        System.out.println("AnalyticsService created (HEAVY)");
        warmUp();
    }

    private void warmUp() {
        try {
            Thread.sleep(3000); // heavy work simulation
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        System.out.println("Analytics warm-up done");
    }

    public void generateReport() {
        System.out.println("Generating analytics report");
    }
}
```

тЬФ App start-ржП рждрзИрж░рж┐ рж╣ржмрзЗ ржирж╛
тЬФ First call-ржП рждрзИрж░рж┐ рж╣ржмрзЗ

---

## ЁЯФЧ Step 3: Lazy Injection (Constructor-level тАУ Best Practice)

```java
@Service
public class AdminService {

    private final AnalyticsService analyticsService;

    public AdminService(@Lazy AnalyticsService analyticsService) {
        this.analyticsService = analyticsService;
        System.out.println("AdminService created");
    }

    public void viewReport() {
        analyticsService.generateReport();
    }
}
```

ЁЯУМ ржПржЦрж╛ржирзЗ:

* `AdminService` eager
* `AnalyticsService` proxy рж╣рж┐рж╕рзЗржмрзЗ inject

---

## ЁЯМР Step 4: Controller (Trigger Point)

```java
@RestController
@RequestMapping("/admin")
public class AdminController {

    private final AdminService adminService;

    public AdminController(AdminService adminService) {
        this.adminService = adminService;
    }

    @GetMapping("/report")
    public String report() {
        adminService.viewReport();
        return "Report generated";
    }
}
```

---

## 5я╕ПтГг Application Startup Output

```text
OrderService created
AdminService created
```

тЭМ AnalyticsService рждрзИрж░рж┐ рж╣рзЯржирж┐
ЁЯЪА Startup fast

---

## 6я╕ПтГг First Time Analytics Call

```
GET /admin/report
```

Console:

```text
AnalyticsService created (HEAVY)
Analytics warm-up done
Generating analytics report
```

ЁЯСЙ Lazy Bean **ржПржЗ ржорзБрж╣рзВрж░рзНрждрзЗ** рждрзИрж░рж┐ рж╣рж▓рзЛ

---

## 7я╕ПтГг Second Call

```
GET /admin/report
```

```text
Generating analytics report
```

тЬФ constructor ржЖрж░ ржЪрж▓рзЗ ржирж╛
тЬФ singleton lazy bean ржПржХржмрж╛рж░ржЗ рждрзИрж░рж┐

---

## 8я╕ПтГг Lazy Bean ржнрж┐рждрж░рзЗ ржнрж┐рждрж░рзЗ ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ?

1. Spring real Bean inject ржХрж░рзЗ ржирж╛
2. **Proxy object** inject ржХрж░рзЗ
3. First method call тЖТ

   * Real Bean create
   * Call forward

ЁЯСЙ ржПржЬржирзНржп Lazy Bean thread-safe

---

## 9я╕ПтГг `@Lazy` ржмрзНржпржмрж╣рж╛рж░рзЗрж░ рж╕ржм ржЬрж╛рзЯржЧрж╛ (Examples)

### ЁЯФ╣ `@Bean` method

```java
@Configuration
class AppConfig {

    @Lazy
    @Bean
    public ReportEngine reportEngine() {
        return new ReportEngine();
    }
}
```

---

### ЁЯФ╣ Configuration-level

```java
@Lazy
@Configuration
class OptionalModuleConfig {
}
```

---

### ЁЯФ╣ Global Lazy (Whole App)

```properties
spring.main.lazy-initialization=true
```

тЪая╕П рж╕рж╛ржмржзрж╛ржи:

* Security
* Filters
* Controllers

---

## ЁЯФБ Singleton vs Prototype + Lazy

| Type             | Behaviour                 |
| ---------------- | ------------------------- |
| Singleton + Lazy | First access тЖТ one object |
| Prototype + Lazy | Every access тЖТ new object |

---

## ЁЯФФ Lifecycle Hooks + Lazy

```java
@PostConstruct
void init() {}
```

ЁЯСЙ **Lazy Bean create рж╣ржУрзЯрж╛рж░ рж╕ржорзЯржЗ** run рж╣ржмрзЗ
тЭМ Startup-ржП ржирзЯ

---

## 1я╕ПтГг0я╕ПтГг ржХржЦржи Lazy Bean ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗ?

### тЬЕ Good Use

* Heavy initialization
* Optional modules
* Rarely used admin features
* Circular dependency break
* Faster startup

### тЭМ Avoid

* Core business logic
* Security/Auth
* Request filters
* High-frequency APIs

---

## 1я╕ПтГг1я╕ПтГг Common Mistakes

тЭМ Controller-ржП Lazy
тЭМ Lazy everywhere blindly
тЭМ Expecting `@PreDestroy` for prototype
тЭМ Heavy logic constructor-ржП

---

## 1я╕ПтГг2я╕ПтГг Interview-Ready Answers

**Q: What is Lazy Bean?**
ЁЯСЙ Bean created on first use, not startup.

**Q: How to make Lazy Bean?**
ЁЯСЙ `@Lazy` at class, injection point, `@Bean`, or global.

**Q: Constructor `@Lazy` vs Class `@Lazy`?**
ЁЯСЙ Constructor = local lazy, Class = global lazy.

---

## ЁЯОп Final One-Paragraph Summary

> Spring Lazy Bean ржПржоржи ржПржХржЯрж┐ Bean ржпрж╛ application startup-ржП рждрзИрж░рж┐ ржирж╛ рж╣рзЯрзЗ ржкрзНрж░ржержоржмрж╛рж░ ржмрзНржпржмрж╣рж╛рж░рзЗрж░ рж╕ржорзЯ рждрзИрж░рж┐ рж╣рзЯред ржПржЯрж┐ startup performance ржЙржирзНржиржд ржХрж░рзЗ, memory usage ржХржорж╛рзЯ ржПржмржВ optional ржмрж╛ heavy service ржЧрзБрж▓рзЛржХрзЗ on-demand рж▓рзЛржб ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред `@Lazy` annotation class-level, constructor parameter, `@Bean` method ржмрж╛ global property рж╣рж┐рж╕рзЗржмрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛рзЯред

---

## ЁЯза One-line Memory Trick

> **Lazy Bean = тАЬржЖржЧрзЗ ржжрж░ржХрж╛рж░ рж╣рж▓рзЗ ржмрж╛ржирж╛ржмрзЛтАЭ**

---

ржЪрж╛ржУ рждрзЛ next ржзрж╛ржкрзЗ ржжрзЗржЦрж╛рждрзЗ ржкрж╛рж░рж┐:

* ЁЯФе Lazy proxy internals
* ЁЯФе Circular dependency Lazy ржжрж┐рзЯрзЗ solve
* ЁЯФе Lazy + @Transactional pitfalls
* ЁЯФе Real production bug stories

ржмрж▓рж▓рзЗржЗ ржкрж░рзЗрж░ ржзрж╛ржкрзЗ ржпрж╛ржмрзЛ ЁЯШК
