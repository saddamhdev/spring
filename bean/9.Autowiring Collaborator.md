## ЁЯФМ **Autowiring Collaborators (Spring)** тАФ рж╕рж╣ржЬ ржнрж╛рж╖рж╛рзЯ, ржмрзЬ ржЙржжрж╛рж╣рж░ржгрж╕рж╣

![Image](https://media.geeksforgeeks.org/wp-content/uploads/20250307130723142171/SpringAutowiredAnnotation.webp)

![Image](https://media.geeksforgeeks.org/wp-content/uploads/20230923125535/spring-1.png)

![Image](https://i0.wp.com/javaconceptoftheday.com/wp-content/uploads/2023/08/Spring_IoC_Container.png?fit=1015%2C507\&ssl=1)

---

## ЁЯза ржЖржЧрзЗ ржмрзЛржЭрзЛ: *Collaborator* ржорж╛ржирзЗ ржХрзА?

> **Collaborator** рж╣рж▓рзЛтАФржПржХржЯрж╛ Bean ржпрзЗржЯрж╛ ржЖрж░рзЗржХржЯрж╛ Bean-ржПрж░ ржХрж╛ржЬ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗ (dependency)ред

ржЙржжрж╛рж╣рж░ржг:

* `OrderService` ржХрж╛ржЬ ржХрж░рждрзЗ **`PaymentService`** рж▓рж╛ржЧрзЗ
  тЮбя╕П `PaymentService` рж╣рж▓рзЛ **collaborator** of `OrderService`

---

## ЁЯФМ Autowiring ржорж╛ржирзЗ ржХрзА?

> **Autowiring** ржорж╛ржирзЗтАФSpring ржирж┐ржЬрзЗ ржирж┐ржЬрзЗ collaborator ржЦрзБржБржЬрзЗ ржирж┐рзЯрзЗ inject ржХрж░рзЗ ржжрзЗрзЯред

рждрзБржорж┐ ржмрж▓рзЛ:

```java
OrderService needs PaymentService
```

Spring ржХрж░рзЗ:

```java
new OrderService(paymentServiceBean);
```

---

# ЁЯзй Autowiring-ржПрж░ рзйржЯрж╛ ржкрзНрж░ржзрж╛ржи ржЙржкрж╛рзЯ

## 1я╕ПтГг Constructor Injection (тЬЕ Best Practice)

```java
@Service
public class OrderService {

    private final PaymentService paymentService;

    public OrderService(PaymentService paymentService) {
        this.paymentService = paymentService;
    }
}
```

### ржХрзЗржи Best?

* Immutable (final)
* Easy testing
* Clear dependency
* Circular dependency ржзрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗ

ЁЯУМ Spring 4.3+ рж╣рж▓рзЗ `@Autowired` ржжрж░ржХрж╛рж░ ржирзЗржЗ

---

## 2я╕ПтГг Field Injection (тЭМ Avoid in production)

```java
@Service
public class OrderService {

    @Autowired
    private PaymentService paymentService;
}
```

### рж╕ржорж╕рзНржпрж╛

* Test ржХрж░рж╛ ржХржарж┐ржи
* Hidden dependency
* Reflection ржмрзНржпржмрж╣рж╛рж░ рж╣рзЯ

---

## 3я╕ПтГг Setter Injection (тЪая╕П Optional dependency)

```java
@Service
public class OrderService {

    private PaymentService paymentService;

    @Autowired
    public void setPaymentService(PaymentService paymentService) {
        this.paymentService = paymentService;
    }
}
```

### ржХржЦржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗ?

* Optional collaborator
* Runtime change ржжрж░ржХрж╛рж░ рж╣рж▓рзЗ

---

# ЁЯПЧя╕П BIG REAL-WORLD EXAMPLE

## ЁЯЫТ Order Processing System

### ЁЯз▒ Collaborators

* `OrderService` тЖТ main
* `PaymentService` тЖТ collaborator
* `InventoryService` тЖТ collaborator
* `NotificationService` тЖТ collaborator

---

### ЁЯФ╣ PaymentService

```java
@Service
public class PaymentService {
    public void pay() {
        System.out.println("Payment done");
    }
}
```

---

### ЁЯФ╣ InventoryService

```java
@Service
public class InventoryService {
    public void reserve() {
        System.out.println("Inventory reserved");
    }
}
```

---

### ЁЯФ╣ NotificationService

```java
@Service
public class NotificationService {
    public void notifyUser() {
        System.out.println("User notified");
    }
}
```

---

### ЁЯФ╣ OrderService (Autowiring Collaborators)

```java
@Service
public class OrderService {

    private final PaymentService paymentService;
    private final InventoryService inventoryService;
    private final NotificationService notificationService;

    public OrderService(
            PaymentService paymentService,
            InventoryService inventoryService,
            NotificationService notificationService
    ) {
        this.paymentService = paymentService;
        this.inventoryService = inventoryService;
        this.notificationService = notificationService;
    }

    public void placeOrder() {
        inventoryService.reserve();
        paymentService.pay();
        notificationService.notifyUser();
    }
}
```

ЁЯСЙ ржПржЦрж╛ржирзЗ рзйржЯрж╛ collaborator **auto-wired**

---

## ЁЯФН Spring ржнрж┐рждрж░рзЗ ржнрж┐рждрж░рзЗ ржХрзА ржХрж░рзЗ?

1. Container ржЪрж╛рж▓рзБ рж╣рзЯ
2. `PaymentService`, `InventoryService`, `NotificationService` Bean ржмрж╛ржирж╛рзЯ
3. `OrderService` constructor ржжрзЗржЦрзЗ
4. Type match ржХрж░рзЗ collaborator inject ржХрж░рзЗ

---

# ЁЯза Autowiring Rules (Very Important)

### 1я╕ПтГг By Type (Default)

```java
OrderService(PaymentService ps)
```

Spring type match ржХрж░рзЗ

---

### 2я╕ПтГг Multiple Bean ржерж╛ржХрж▓рзЗ ржХрзА рж╣ржмрзЗ? тЭМ

```java
@Service
class BkashPaymentService implements PaymentService {}

@Service
class CardPaymentService implements PaymentService {}
```

```java
OrderService(PaymentService paymentService)
```

тЭМ Error: *NoUniqueBeanDefinitionException*

---

## тЬЕ Solution 1: `@Qualifier`

```java
public OrderService(@Qualifier("bkashPaymentService") PaymentService paymentService) {
    this.paymentService = paymentService;
}
```

---

## тЬЕ Solution 2: `@Primary`

```java
@Primary
@Service
class CardPaymentService implements PaymentService {}
```

---

# ЁЯРв Autowiring + Lazy Collaborator

```java
public OrderService(@Lazy AnalyticsService analyticsService) {
    this.analyticsService = analyticsService;
}
```

ЁЯСЙ collaborator lazy
ЁЯСЙ main service eager

---

# тЪая╕П Common Mistakes

тЭМ Field injection overuse
тЭМ Multiple beans without qualifier
тЭМ Circular dependency without Lazy
тЭМ Heavy collaborator eager load

---

## ЁЯОп Interview-Ready Answers

**Q: What is Autowiring?**
ЁЯСЙ Automatic dependency injection by Spring.

**Q: Best autowiring method?**
ЁЯСЙ Constructor injection.

**Q: What if multiple beans exist?**
ЁЯСЙ Use `@Qualifier` or `@Primary`.

---

## ЁЯза One-line Memory Trick

> **Autowiring = тАЬSpring ржирж┐ржЬрзЗ collaborator ржЬрзБрзЬрзЗ ржжрзЗрзЯтАЭ**

---

ржЪрж╛ржУ рждрзЛ ржкрж░рзЗрж░ ржзрж╛ржкрзЗ ржжрзЗржЦрж╛рждрзЗ ржкрж╛рж░рж┐:

* ЁЯФе Circular dependency solve (with Lazy)
* ЁЯФе Autowiring failure debug
* ЁЯФе Qualifier vs Primary deep dive
* ЁЯФе Real production bug examples

ржмрж▓рж▓рзЗржЗ ржПржЧрзЛржмрзЛ ЁЯСН
